<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>More OpenCV p3</title>
    <meta name="Description" content="web developer, photographer, panda">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="pandamakes">
    <link rel="stylesheet" href="/css/materialize.css">
    <link rel="stylesheet" href="/css/github-markdown.css">
    <link rel="stylesheet" href="/css/coverimage.css">
	  <link rel="me" href="https://fosstodon.org/@pandamakes">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  </head>
  <body class="d-flex flex-column">
    <header class="flex-basis-0 flex-grow-0">

    <nav>
      <div class="nav-wrapper col s12">

        <!-- logo -->
        <a href="/" class="h-100 brand-logo">
          <div class="h-100 valign-wrapper ">
            <img class="h-100 p-1" src="/img/logo.svg">
            <span>
              pandamakes
            </span>
          </div>
        </a>

        <a href="#" data-target="mobile-menu" class="sidenav-trigger">
          <i class="fas fa-bars"></i>
        </a>

        <ul class="right hide-on-med-and-down"><li class="nav-item"><a href="/">Home</a></li>
<li class="nav-item"><a href="/blog/">Blog</a></li>
<li class="nav-item"><a href="/about/">About</a></li></ul>
      </div>
    </nav>

  <!-- mobile sidenav -->
  <ul class="sidenav" id="mobile-menu">
  
  
    <li class="nav-item">
      <a href="/">
        Home
      </a>
    </li>
  
  
  
    <li class="nav-item">
      <a href="/blog/">
        Blog
      </a>
    </li>
  
  
  
    <li class="nav-item">
      <a href="/about/">
        About
      </a>
    </li>
  
  
  </ul>

</header>

    <main class="flex-basis-0 flex-grow-1" >

      <div data-bgimgsrc="/img/cover.jpg" class="banner-image-wrapper w-100 h-100vh overflow-hidden d-flex align-items-center justify-content-center">
  <div>
    <h1 class="center-align">
      More OpenCV p3
    </h1>

    
  </div>
</div>

<div class="row"></div>
      <div class="container">
        

<div class="row">
	<div class="col s12"
		<time datetime="2016-04-04">04 April 2016</time>
	</div>
	
  	
<div class="col s12">
  <div class="d-flex flex-wrap">

    
    <span class="mt-a mb-a"> tags: </span>
    

    
    <span data-href="/tags/android programming/" class="waves-effect chip m-1">android programming</span>
    <span data-href="/tags/Imago/" class="waves-effect chip m-1">Imago</span>
    <span data-href="/tags/lessons learnt the hard way/" class="waves-effect chip m-1">lessons learnt the hard way</span>
    <span data-href="/tags/opencv/" class="waves-effect chip m-1">opencv</span>
  </div>
</div>



</div>


<div class="row">
  <div class="col s12 markdown-body">
  <p>Getting error when I attempt to get transformation matrix.</p>
<p>Core.perspectiveTransofrm(Matofpoint input, Matofpoint output, Mat transformationMatrix).</p>
<p>Looks like I needed to declare <code>transformationMatrix</code> as <code>3,3,CvType.CV_32F</code>.</p>
<p>Foolishly, I had used <code>&lt;imageView ... /&gt;</code> instead of <code>&lt;ImageView ... /&gt;</code> the result was lots of errors. But it’s fixed now.</p>
<p>OpenCV is in all kinds of disarray, as least the java version. Perhaps it’s just me, but in order to do a perspective transform, there appears to be two different solutions, either <code>Core.perspectiveTransform(src,dst,output)</code> and the other be <code>ouput = Imgproc.getPerspectiveTransform(src,dst)</code>. Why are there two different functions? Since they are both in the documentations, perhaps they do different things. Well, not really. the one that works is <code>output = Imgproc.getPerspectiveTransform(src,dst)</code>.</p>
<p>Also, this discrepancy highlights another inconsistency in OpenCV. Take a look at Canny tranformation or find contour:</p>
<p>Canny transformation: <code>Imgproc.Canny(src,ouput,threshold1,threshold2)</code><br>
Find contour: <code>Imgproc.findContours(src, output, hierarchy, mode, method)</code></p>
<p>and compare that with getPerspectiveTransform:</p>
<p>getPerspectiveTransform: <code>output = Imgproc.getPerspectiveTransform(src,dst)</code></p>
<p>Spot the difference?</p>
<p>I am starting to see the reasons why an incoherent ecosystem of hardwares is such a headache for software developers. When I am trying to import the IMAGO library, it distinguishes if the OS architecture is 32 or 64bit. But getting that information programmatically can be extremely tricky. One trick was to use os.arch, with a 64bit OS, it should output aarch64. But not always. Well that was strange. I suppose that is what programmers have to contend with when they are dealing with low level codes.</p>
<p>I have just e-mailed the guy from epam. I do not know if he will get back to me.</p>

  </div>
</div>
<ul class="links-nextprev"><li>Previous: <a href="/posts/more-opencv-p2/">More OpenCV p2</a></li><li>Next: <a href="/posts/opencv-hit-a-wall/">Imago, hit a wall?</a></li>
</ul>

      </div>
    </main>

    <footer class="page-footer flex-basis-0 flex-grow-0">

  <div class="container">
    <div class="row">
      <div class="col s12">

        <a class="btn-flat" href="https://github.com/xgui3783">
          <i class="fab fa-github"></i>
          <span>
            xgui3783
          </span>
        </a>

        <a href="https://fosstodon.org/@pandamakes" class="btn-flat">
          <i class="fab fa-mastodon"></i>
          <span>
            @pandamakes@fosstodon.org
          </span>
        </a>
      </div>
    </div>
  </div>
  
  <div class="footer-copyright">
    <div class="container">
    © 2024 Copyright pandamakes
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {

      /* required for SideBar mobile */
      const elems = document.querySelectorAll('.sidenav')
      const instances = M.Sidenav.init(elems)

      /* required to overcome nested anchor links */
      const divHrefs = document.querySelectorAll('[data-href]')
      for (const divHref of divHrefs ){
        divHref.addEventListener('click', ev => {
          window.open(divHref.dataset.href, '_self')
          ev.stopPropagation()
        })
      }
    })
  </script>

</footer>
    <!-- Current page: /posts/more-opencv-p3/ -->
  </body>
</html>
